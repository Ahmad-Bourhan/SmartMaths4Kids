<div class="container my-5">
  <div class="text-center mb-4">
    <h1 class="text-primary">🎉 Quiz Results</h1>
    <p class="lead">Thank you for completing the quiz!</p>
  </div>

  <div class="alert alert-success text-center">
    <h3>🏆 Total Score: <strong><%= @total_score %></strong> points</h3>
  </div>

  <% if @results.present? %>
    <h4 class="mt-4 mb-3">📊 Summary of Your Answers:</h4>
    <table class="table table-bordered table-hover shadow-sm">
      <thead class="table-primary">
        <tr>
          <th>#</th>
          <th>Question</th>
          <th>Your Answer</th>
          <th>Correct Answer</th>
          <th>Result</th>
        </tr>
      </thead>
      <tbody>
        <% @results.each_with_index do |result, index| %>
          <tr>
            <td><%= index + 1 %></td>
            <td><%= result[:question_text] %></td>
            <td><%= result[:user_answer].presence || "No Answer" %></td>
            <td><%= result[:correct_answer] %></td>
            <td>
              <% if result[:is_correct] %>
                <span class="text-success fw-bold">✅ Correct</span>
              <% else %>
                <span class="text-danger fw-bold">❌ Incorrect</span>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% end %>

  <div class="text-center mt-5 d-flex justify-content-center gap-3">
    <%= link_to "🏠 Back to Home", root_path, class: "btn btn-primary btn-lg" %>
    <%= link_to "🔁 Try Again", quiz_path, class: "btn btn-warning btn-lg" %>
  </div>
</div>
